# generate jumpstarter user config
cat > /home/user/.config/jumpstarter/config.yaml <<EOF
apiVersion: jumpstarter.dev/v1alpha1
kind: UserConfig
config:
  current-client: default
EOF

# generate jumpstarter client config
cat > /home/user/.config/jumpstarter/clients/default_old.yaml <<EOF
apiVersion: jumpstarter.dev/v1alpha1
kind: ClientConfig
metadata:
  namespace: auto-jumpstarter
  name: $(sed "s|-devspaces||" /run/secrets/kubernetes.io/serviceaccount/namespace)
endpoint: $JUMPSTARTER_GRPC_ENDPOINT
tls:
  ca: ''
  insecure: true
token: $(cat /var/run/secrets/kubernetes.io/serviceaccount/token)
drivers:
  allow: []
  unsafe: true
EOF

# generate jumpstarter client config
jmp admin create client --insecure-tls-config --nointeractive -n auto-jumpstarter --out /home/user/.config/jumpstarter/clients/default.yaml default